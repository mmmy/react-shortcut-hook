(this["webpackJsonpreact-shortcut-hook-example"]=this["webpackJsonpreact-shortcut-hook-example"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(1),o=n.n(c),u=(n(10),n(2)),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function i(e){if(void 0!==e.windows){var t=e;return"Macintosh"===function(){var e="Unknown OS";return-1!==navigator.userAgent.indexOf("Win")&&(e="Windows"),-1!==navigator.userAgent.indexOf("Mac")&&(e="Macintosh"),-1!==navigator.userAgent.indexOf("Linux")&&(e="Windows"),e}()?t.macOS:t.windows}return e}var s=function(e,t,n){var a=Object(r.useState)(),c=a[0],o=a[1],u=Object(r.useRef)(new Map),s=Object(r.useRef)(new Set),d=Object(r.useRef)(!1),m=Object(r.useRef)(!1),f=Object(r.useRef)(!1),v=Object(r.useRef)(0),b=Object(r.useRef)(0);Object(r.useEffect)((function(){var r,a;if(s.current.add(o),t)for(var c=0;c<t.length;c++){var p=t[c];u.current.set(p.name,l(l({global:!(null===e||void 0===e?void 0:e.current),registerTime:new Date,scopedTo:["INPUT","TEXTAREA","SELECT"].includes(null===(r=null===e||void 0===e?void 0:e.current)||void 0===r?void 0:r.tagName)?null===(a=null===e||void 0===e?void 0:e.current)||void 0===a?void 0:a.tagName:void 0,readOnly:!1},p),n))}function h(e,t){var n;if(!t.scopedTo||e.target.tagName===t.scopedTo){clearTimeout(b.current);for(var r=function(e){var r=Array.from(s.current.values())[e];r(t),b.current=window.setTimeout((function(){return r(void 0)}),null!==(n=t.delay)&&void 0!==n?n:1e3)},a=0;a<Array.from(s.current.values()).length;a++)r(a);t.callback(e)}t.once&&u.current.delete(t.name)}var g=function(e){for(var t,n=Array.from(u.current.values()).sort((function(e,t){return e!==t&&e?-1:1})),r=function(r){var a=n[r];if(function(e,t){for(var n=!1,r=0;r<t.length;r++){var a=t[r];if("meta"===a){if(!e.metaKey)return!1;n=!0}else if("ctrl"===a){if(!e.ctrlKey)return!1;n=!0}else if("alt"===a){if(!e.altKey)return!1;n=!0}else if("shift"===a){if(!e.shiftKey)return!1;n=!0}else if("space"===a){if(" "!==e.key)return!1;n=!0}else{if(a!==e.key.toLowerCase())return!1;n=!0}}return n}(e,i(a.shortcut))&&!a.stopped&&(a.longPress?d.current||(d.current=!0,v.current=window.setTimeout((function(){return h(e,a)}),null!==(t=a.longPressWaitTime)&&void 0!==t?t:500)):a.dontRepeat?m.current||(m.current=!0,h(e,a)):h(e,a),a.stopBubblingUp))return e.preventDefault(),e.stopPropagation(),"break"},a=0;a<n.length;a++){if("break"===r(a))break}return!1},y=function(){d.current=!1,m.current=!1,clearTimeout(v.current)};return e&&e.current?(e.current.addEventListener("keydown",g),e.current.addEventListener("keyup",y)):f.current||(f.current=!0,document.body.addEventListener("keydown",g),document.body.addEventListener("keyup",y)),function(){if(t)for(var n=0;n<Array.from(t.values()).length;n++){var r=Array.from(t.values())[n];u.current.delete(r.name)}s.current.delete(o),e&&e.current?(e.current.removeEventListener("keydown",g),e.current.removeEventListener("keyup",y)):f.current&&0===u.current.size&&(document.body.removeEventListener("keydown",g),document.body.removeEventListener("keyup",y))}}),[]);return{getAll:Object(r.useCallback)((function(){return Array.from(u.current.values())}),[]),stop:Object(r.useCallback)((function(e){var t=u.current.get(e);t&&u.current.set(e,l(l({},t),{stopped:!0}))}),[]),start:Object(r.useCallback)((function(e){var t=u.current.get(e);t&&u.current.set(e,l(l({},t),{stopped:!1}))}),[]),update:Object(r.useCallback)((function(e,t){var n=u.current.get(e);if(!n)throw Error("Shortcut that you are trying to update does not exist.");if(n.readOnly)throw Error("Shortcut you are trying to modify is set to readOnly.");u.current.set(e,l(l({},n),t))}),[]),remove:Object(r.useCallback)((function(e){return u.current.delete(e)}),[]),clearAll:function(){return u.current.clear()},add:Object(r.useCallback)((function(e){if(u.current.has(e.name))throw new Error("Shortcut with the same name already exist.");u.current.set(e.name,e)}),[]),command:c,once:Object(r.useCallback)((function(e){u.current.set(e.name,l(l({},e),{once:!0}))}),[]),longPress:Object(r.useCallback)((function(e){u.current.set(e.name,l(l({},e),{longPress:!0}))}),[])}};var d=function(e){return r.createElement("svg",Object.assign({id:"prefix___x31_0",x:0,y:0,viewBox:"0 0 512 512",xmlSpace:"preserve",opacity:1,width:"1em",height:"1em"},e),r.createElement("path",{className:"prefix__st0",d:"M508.481 240.24c.019-.05.058-.098.082-.148.016-.047.024-.094.043-.141a44.653 44.653 0 001.99-6.098c.039-.145.07-.289.102-.434 3.53-14.696.082-32.19-12.695-53.133C435.407 77.635 256.002 77.048 256.002 77.048s-179.409.587-242.004 103.24c-12.781 20.95-16.228 38.449-12.69 53.145.031.137.062.277.094.41a44.886 44.886 0 001.997 6.117c.02.042.028.09.043.133.02.046.055.09.074.141 9.947 23.838 40.125 39.421 80.507 49.27l-5.777 26.714c-1.035 4.906 1.263 9.838 5.55 12.195.45.25.899.446 1.376.645a314.877 314.877 0 009.446 3.474c.282.102.579.188.864.29 14.567 30.889 36.526 68.626 84.237 88.446.074.031.16.058.238.09 20.262 8.38 45.057 13.594 76.044 13.594 30.974 0 55.77-5.214 76.028-13.586.082-.035.172-.066.258-.102 47.707-19.82 69.662-57.553 84.232-88.442.282-.102.578-.188.86-.29a315.671 315.671 0 009.447-3.474c.477-.199.926-.395 1.375-.645a11.208 11.208 0 005.55-12.195l-5.777-26.714c35.798-8.732 63.549-21.982 76.353-41.47a47.436 47.436 0 004.154-7.794zM181.154 387.181a122.158 122.158 0 01-11.374-5.984 114.366 114.366 0 01-3.029-1.895c-2.611-1.662-5.12-3.377-7.489-5.167a111.819 111.819 0 01-4.573-3.646 112.314 112.314 0 01-5.194-4.612 122.486 122.486 0 01-4.651-4.663 125.311 125.311 0 01-6.438-7.442c-.43-.532-.86-1.059-1.282-1.599a141.709 141.709 0 01-3.072-4.092c-2.111-2.927-1.169-6.214 1.606-5.421l47.637 13.355a3.895 3.895 0 011.72 1.122c14.047 15.278 29.286 28.059 45.299 38.03 2.533 1.578 1.532 5.53-1.282 5.166-18.976-2.517-34.598-7.058-47.641-13.038-.081-.035-.159-.079-.237-.114zm153.675-233.776c1.458.309 2.916.641 4.37.914a179.28 179.28 0 007.871 1.423c-30.94 13.23-54.18 15.575-54.18 15.575l-7.985 19.914c-.75 1.834-1.262 3.084-1.403 3.424l-12.48-7.825-.418-.266-.003.004-.137-.086-9.678 16.885-4.831 8.266-14.391-25.151-11.166 6.985-1.935 1.176-9.326-23.326s-14.856-1.513-36.587-8.849a235.199 235.199 0 01-17.596-6.86c21.891-3.009 46.968-11.886 58.389-15.126 2.103.45 9.392 18.671 14.72 18.671 5.55 0 17.94-11.214 17.94-11.214s12.417 11.214 17.967 11.214c5.296 0 12.613-18.222 14.715-18.671 9.201 2.615 27.325 8.872 45.488 12.781.218.053.437.091.656.142zm33.468 153.816a433.66 433.66 0 0036.802-9.873c.501-.149 1.024-.282 1.521-.434l3.166 14.54c-45.05 15.865-100.468 24.89-153.784 24.89-53.289 0-108.739-9.025-153.758-24.89l3.166-14.551c11.917 3.826 24.436 7.183 37.342 10.076.278.066.547.145.825.211v-.008c.051.011.102.027.153.039l1.489-7.458.7-3.561 2.185-10.959a470.218 470.218 0 01-23.24-5.886 324.182 324.182 0 01-14.689-4.487l7.403-34.313c24.78 3.506 88.328 11.69 138.424 11.69 50.091 0 113.64-8.184 138.424-11.69l7.426 34.313a362.125 362.125 0 01-14.715 4.487 432.299 432.299 0 01-23.213 5.858l2.189 10.987.7 3.561 1.414 7.106.035.195.004-.004.031.161z",fill:"#0c0c0c"}),r.createElement("path",{className:"prefix__st0",d:"M342.927 301.976l-.222-1.176-2.185-10.933c-27.532 4.71-56.318 7.231-84.518 7.231-28.204 0-56.99-2.521-84.518-7.231l-2.189 10.933-.223 1.176-1.888 9.498-.046.211.004.004-.032.156c28.986 4.991 59.289 7.681 88.892 7.681 28.95 0 58.554-2.607 86.957-7.391.59-.094 1.184-.16 1.774-.258v-.007l.156-.024-1.962-9.87zM168.365 276.868l.004-.016.032-.16-12.364-2.494-1.039 5.159-1.399 7.063-2.189 10.96-.586 2.97-1.599 8.047-1.094 5.41 12.362 2.466 1.095-5.409v-.028l1.849-9.306.336-1.712 2.188-10.932 1.908-9.529zM361.177 300.35l-.587-2.97-2.189-10.96-1.399-7.063-1.005-4.995v-.008l-.035-.156-12.362 2.494.535 2.665 1.903 9.529 2.189 10.932.337 1.712 1.848 9.306v.028l1.094 5.409 12.363-2.466-1.094-5.41z",fill:"#0c0c0c"}))};var m=function(e){return r.createElement("svg",Object.assign({height:"1em",viewBox:"0 0 24 24",width:"1em"},e),r.createElement("path",{d:"M12 .5C5.37.5 0 5.78 0 12.292c0 5.211 3.438 9.63 8.205 11.188.6.111.82-.254.82-.567 0-.28-.01-1.022-.015-2.005-3.338.711-4.042-1.582-4.042-1.582-.546-1.361-1.335-1.725-1.335-1.725-1.087-.731.084-.716.084-.716 1.205.082 1.838 1.215 1.838 1.215 1.07 1.803 2.809 1.282 3.495.981.108-.763.417-1.282.76-1.577-2.665-.295-5.466-1.309-5.466-5.827 0-1.287.465-2.339 1.235-3.164-.135-.298-.54-1.497.105-3.121 0 0 1.005-.316 3.3 1.209.96-.262 1.98-.392 3-.398 1.02.006 2.04.136 3 .398 2.28-1.525 3.285-1.209 3.285-1.209.645 1.624.24 2.823.12 3.121.765.825 1.23 1.877 1.23 3.164 0 4.53-2.805 5.527-5.475 5.817.42.354.81 1.077.81 2.182 0 1.578-.015 2.846-.015 3.229 0 .309.21.678.825.56C20.565 21.917 24 17.495 24 12.292 24 5.78 18.627.5 12 .5z",fill:"#212121"}))};function f(e){if(void 0!==e.windows){var t=e;return"Macintosh"===function(){var e="Unknown OS";return-1!==navigator.userAgent.indexOf("Win")&&(e="Windows"),-1!==navigator.userAgent.indexOf("Mac")&&(e="Macintosh"),-1!==navigator.userAgent.indexOf("Linux")&&(e="Windows"),e}()?t.macOS:t.windows}return e}var v=function(){var e,t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],o=n[1],l=s(void 0,[{name:"Green Color",shortcut:{windows:["shift","ctrl","z"],macOS:["shift","meta","z"]},description:"Change background color to green",callback:function(){return document.body.style.background="#64C964"},stopBubblingUp:!0},{name:"Yellow Color",shortcut:{windows:["ctrl","x"],macOS:["meta","x"]},description:"Change background color to yellow",callback:function(){return document.body.style.background="#fdd231"},readOnly:!0},{name:"Red Color",shortcut:{windows:["ctrl","c"],macOS:["meta","c"]},description:"Change background color to red",callback:function(){return document.body.style.background="#FF614D"}}],void 0),i=l.start,v=l.stop,b=l.command,p=l.getAll;return Object(r.useEffect)((function(){console.log("command: ",b)}),[b]),Object(r.useEffect)((function(){setTimeout((function(){o(p())}),0)}),[p]),a.a.createElement("div",{className:"container"},a.a.createElement(d,{width:120,height:120,fill:"#121212"}),a.a.createElement("div",{className:"title"},a.a.createElement("div",null,"react shortcut hook"),a.a.createElement("a",{href:"https://github.com/mmmy/react-shortcut-hook",target:"_blank"},a.a.createElement(m,null))),a.a.createElement("div",{className:"commandContainer"},a.a.createElement("div",{style:{color:"#fff",fontSize:24,marginBottom:30}},"Commands"),c.map((function(e){return a.a.createElement("div",{key:e.name,className:"commandNewContainer"},a.a.createElement("div",{className:"command"},a.a.createElement("div",null,a.a.createElement("span",null,e.name),a.a.createElement("span",null,e.description))),a.a.createElement("div",{className:"commandKey"},f(e.shortcut).map((function(e,t){return a.a.createElement("div",{key:"c-".concat(e,"-").concat(t)},a.a.createElement("span",null,0===t?null:"+"),a.a.createElement("div",{className:"key key-new",key:e},e))}))),a.a.createElement("div",null,a.a.createElement("button",{disabled:!e.stopped,onClick:function(){return v(e.name)}},"Stop"),a.a.createElement("button",{disabled:e.stopped,onClick:function(){return i(e.name)}},"Start")))}))),a.a.createElement("div",{className:"shortcutContainer"},b&&(null===(e=f(null===b||void 0===b?void 0:b.shortcut))||void 0===e?void 0:e.map((function(e,t){return a.a.createElement("div",{key:"".concat(e,"-").concat(t)},0===t?null:a.a.createElement("span",null,"+"),a.a.createElement("div",{className:"key"},e))})))))};o.a.render(a.a.createElement(v,null),document.getElementById("root"))},3:function(e,t,n){e.exports=n(11)}},[[3,1,2]]]);
//# sourceMappingURL=main.268b2189.chunk.js.map